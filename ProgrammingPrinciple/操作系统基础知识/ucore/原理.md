## 原理

[TOC]

应用程序使用逻辑地址，认为自己有独立的地址空间。

逻辑地址->段机制处理->线性地址->页机制处理->物理地址

### 80380内部结构

#### 1.通用寄存器

1. eax：累加器
2. ebx: 基址寄存器
3. ecx: 计数器
4. edx: 数据寄存器
5. esi: 源地址指针寄存器
6. edi: 目的地址指针寄存器
7. ebp: 基址指针寄存器
8. esp：堆栈指针寄存器

#### 2. 段寄存器

主要用来寻址，

1. cs:代码段 code，在实模式和保护模式下的含义不一样
2. ds:数据段 data
3. es:附加数据段 extra
4. ss:堆栈段 stack
5. fs：附加段
6. gs：附加段

#### 其余寄存器

1. EIP 指令寄存器：EIP的低16位就是8086的IP，存储的是下一条要执行的指令的内存地址，在分段地址转换中，表示指令的段内偏移地址
2. EFLAGS 标志寄存器：IF中断允许标志位。复位则屏蔽中断，设置则开启中断。由CLI，STI命令操作。还有别的标志，例如加法运算是否溢出