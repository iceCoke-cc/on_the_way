高可用

![election_52](assets/Selection_520.png)

二进制日志：记录了所有对数据库的修改事件，包括增删改查、对表结构的修改事件。

- 基于段的格式，binlog_format=STATEMENT，记录的执行sql的语句
  - 优点：日志记录量相对较小，节约磁盘及网络IO
  - 缺点：必须要记录上下文信息，特点函数UUID(),user()这样非确定性函数还是无法复制，可能造成主从服务器数据不一致。
- 基于行的日志格式，binlog_format=ROW，记录了增删改差的具体数据。
  - 优点：主从复制更加安全，对每一行的修改比基于段的复制更搞效；可以通过该日志恢复记录。
  - 缺点：基于范围的修改，则需要记录每一行的数据。记录日志量较大：binlog_row_image=FULL|MINIMAL
- 混合日志格式：binlog_format=MIXED,
  - 根据SQL语句由系统决定在基于段和基于行的日志格式中进行选择
  - 数据量的大小由所执行的SQL语句决定


建议：MIXED ROW(MINIMAL)


