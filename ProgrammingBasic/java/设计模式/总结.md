## 设计模式总结

[TOC]

### 模板方法

应用：java队列同步器、spring配置加载

​     定义一个操作中算法的骨架，而将一些步骤延迟到子类中，模板方法使得子类可以不改变算法的结构即可重定义该算法的某些特定步骤。

　 通俗点的理解就是 ：完成一件事情，有固定的数个步骤，但是每个步骤根据对象的不同，而实现细节不同；就可以在父类中定义一个完成该事情的总方法，按照完成事件需要的步骤去调用其每个步骤的实现方法。每个步骤的具体实现，由子类完成。

**优点**：

- 具体细节步骤实现定义在子类中，子类定义详细处理算法是不会改变算法整体结构。
- 代码复用的基本技术，在数据库设计中尤为重要。
- 存在一种反向的控制结构，通过一个父类调用其子类的操作，通过子类对父类进行扩展增加新的行为，符合“开闭原则”。

**缺点**：

- 每个不同的实现都需要定义一个子类，会导致类的个数增加，系统更加庞大。

##### 模版方法和策略模式的对比

- 模版方法：控制算法内部。
- 策略模式：不同算法的管理。

   在[策略模式](http://blog.csdn.net/u013565163/article/details/78556287)中武器示例中， 拳头，木棍，手枪是实现接口的具体的算法，而不接口的算法内部。

两个模式很相像，但是解决的问题是不同。

**要点**

- 模版方法定义了算法的步骤，把这些步骤的实现延迟到了子类。
- 模版方法模式为我们提供了一种代码复用的重要技巧。
- 模版方法的抽象类可以定义具体方法、抽象方法和钩子。
- 抽象方法由子类实现。
- 为了防止子类改变模版方法中的算法，可以将模版方法声明为final
- 模版方法和策略模式都封装了算法，**一个用组合（策略模式），一个用继承（模版方法）。**



### 工厂设计模式

应用：

- 创建ThreadPoolExecutor的工厂类Executors